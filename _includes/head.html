<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script>
    // Apply theme immediately to prevent flash
    (function () {
      const THEME_KEY = 'theme-preference';
      const savedTheme = localStorage.getItem(THEME_KEY);
      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>

  <title>
    {%- if page.url == "/" -%}
    {{ site.title }} - {{ site.subtitle }}
    {%- else -%}
    {{ page.title }} - {{ site.title }}
    {%- endif -%}
  </title>
  {%- seo title=false -%}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  {%- feed_meta -%}

  {%- include custom-head.html -%}

  <script src="{{ '/assets/js/theme-toggle.js' | relative_url }}" defer></script>

</head>